曾经汇总的面试题，回忆一下！


```
----
spring异步
redis失效实现
dubbo监控中心原理
spi

----
mysql为什么用b+树，聚簇索引和非聚簇索引的区别？
数据库锁，哪几种实现方式。

----
Java基础
1、List 和 Set 的区别
2、HashSet 是如何保证不重复的
3、HashMap 是线程安全的吗，为什么不是线程安全的（最好画图说明多线程环境下不安全）?
4、HashMap 的扩容过程
5、HashMap 1.7 与 1.8 的 区别，说明 1.8 做了哪些优化，如何优化的？
6、final finally finalize
7、强引用 、软引用、 弱引用、虚引用
8、Java反射
9、Arrays.sort 实现原理和 Collection 实现原理
10、LinkedHashMap的应用
11、cloneable接口实现原理
12、异常分类以及处理机制
13、wait和sleep的区别
14、数组在内存中如何分配

----
JVM
1、详细jvm内存模型
2、讲讲什么情况下回出现内存溢出，内存泄漏？
3、说说Java线程栈
4、JVM 年轻代到年老代的晋升过程的判断条件是什么呢？
5、JVM 出现 fullGC 很频繁，怎么去线上排查问题？
6、类加载为什么要使用双亲委派模式，有没有什么场景是打破了这个模式？
7、类的实例化顺序
8、JVM垃圾回收机制，何时触发MinorGC等操作
9、JVM 中一次完整的 GC 流程（从 ygc 到 fgc）是怎样的
10、各种回收器，各自优缺点，重点CMS、G1
11、各种回收算法
12、OOM错误，stackoverflow错误，permgen space错误

----
缓存
1、Redis用过哪些数据数据，以及Redis底层怎么实现
2、Redis缓存穿透，缓存雪崩
3、如何使用Redis来实现分布式锁
4、Redis的并发竞争问题如何解决
5、Redis持久化的几种方式，优缺点是什么，怎么实现的
6、Redis的缓存失效策略
7、Redis集群，高可用，原理
8、Redis缓存分片
9、Redis的数据淘汰策略

----
Spring
1、BeanFactory 和 FactoryBean？
2、Spring IOC 的理解，其初始化过程？
3、BeanFactory 和 ApplicationContext？
4、Spring Bean 的生命周期，如何被管理的？
5、Spring Bean 的加载过程是怎样的？
6、如果要你实现Spring AOP，请问怎么实现？
7、如果要你实现Spring IOC，你会注意哪些问题？
8、Spring 是如何管理事务的，事务管理机制？
9、Spring 的不同事务传播行为有哪些，干什么用的？
10、Spring 中用到了那些设计模式？
11、Spring MVC 的工作原理？
12、Spring 循环注入的原理？
13、Spring AOP的理解，各个术语，他们是怎么相互工作的？
14、Spring 如何保证 Controller 并发的安全？

----
Netty
1、BIO、NIO和AIO
2、Netty 的各大组件
3、Netty的线程模型
4、TCP 粘包/拆包的原因及解决方法
5、了解哪几种序列化协议？包括使用场景和如何去选择
6、Netty的零拷贝实现
7、Netty的高性能表现在哪些方面

----
- 多路复用：单线程管理多个IO，根据IO状态处理；select/poll=轮训状态，epoll=事件、仅处理有效IO、有效率低时更优；（https://www.jianshu.com/p/6a6845464770）
- synchronized、CAS：分布式锁；

tcp拥塞控制，qps限流算法，netty解决粘包，零拷贝


底层代理，amqp，jms实现。


手写堆排序
分库分表后，怎么提升性能


mysql leftjoin如何优化的：
--
(1). on与 where的执行顺序
    ON 条件（“A LEFT JOIN B ON 条件表达式”中的ON）用来决定如何从 B 表中检索数据行。如果 B 表中没有任何一行数据匹配 ON 的条件,将会额外生成一行所有列为 NULL 的数据,在匹配阶段 WHERE 子句的条件都不会被使用。仅在匹配阶段完成以后，WHERE 子句条件才会被使用。它将从匹配阶段产生的数据中检索过滤。
所以我们要注意：在使用Left (right) join的时候，一定要在先给出尽可能多的匹配满足条件，减少Where的执行。

聚簇索引，innodb的索引是b+树，这个结构的节点都存的啥

怎样让数据库里的一条数据只能被一个线程访问到？

若有恒，何必三更眠五更起；最无益，莫过一日曝十日寒！


MQ 知识点：
---
那请说一下，这些请求具体是落在哪些接口上？
哪些数据是数据库和缓存双写一份的？双写一致性如何保证？
保证一致性的同时如何保证高并发和性能？缓存线上是如何部署的？
给了多大的总内存？命中率有多高？
缓存抗了多少QPS？数据流回源会有多少QPS？
是否某个key出现了热点缓存导致缓存集群中某个机器的负载过高？
如何解决的？是否出现超大value打满网卡的问题？如何规避这个问题？
线上是否出过缓存集群事故？如果出现了你们怎么解决有什么高可用保障预案？
平时如何监控缓存集群的QPS和容量？如果要扩容该怎么扩？
能否平滑扩容？扩容会导致系统需要停机吗？
聊聊Redis的集群原理？扩容的时候会不会导致数据丢失？
key寻址算法都了解哪些？你了解一致性hash算法吗？
画个图说说Redis线程模型和内存模型？
```

```
一、String,StringBuffer, StringBuilder 的区别是什么？String为什么是不可变的？ 
二、VECTOR,ARRAYLIST, LINKEDLIST的区别是什么？ 
三、HASHTABLE, HASGMAQ，TreeMap区别 
四、ConcurrentMap和HashMap的区别 
五、Tomcat，apache，jboss的区别 
六、GET POST区别 
七、SESSION, COOKIE区别 
八、Servlet的生命周期 
九、HTTP 报文包含内容 
十、Statement与PreparedStatement的区别,什么是SQL注入，如何防止SQL注入 
十一、redirect, foward区别 
十二、关于JAVA内存模型，一个对象（两个属性，四个方法）实例化100次，现在内存中的存储状态， 
几个对象，几个属性，几个方法。 
十三、谈谈Hibernate的理解，一级和二级缓存的作用，在项目中Hibernate都是怎么使用缓存的 
十四、反射讲一讲，主要是概念,都在哪需要反射机制，反射的性能，如何优化 
十五、谈谈Hibernate与Ibatis的区别，哪个性能会更高一些 
十六、对Spring的理解，项目中都用什么？怎么用的？对IOC、和AOP的理解及实现原理 
十七、线程同步，并发操作怎么控制 
十八、描述struts的工作流程。 
十九、Tomcat的session处理，如果让你实现一个tomcatserver，如何实现session机制 
二十、关于Cache(Ehcache,Memcached) 
二一、sql的优化相关问题 
二二、oracle中 rownum与rowid的理解，一千条记录我查200到300的记录怎么查？ 
二三、如何分析ORACLE的执行计划？ 
二四、 DB中索引原理，种类，使用索引的好处和问题是什么？ 
二五、JVM垃圾回收实现原理。垃圾回收的线程优先级。 
二六、jvm 最大内存设置。设置的原理。结合垃圾回收讲讲。 
```

```
1.hashmap的内部实现机制，hash是怎样实现的，什么时候rehash
2.java的内存管理
3.分布式缓存的内存管理，如何管理和释放不断膨胀的session，memcache是否熟悉
4.oralce的底层管理(怎样让查询快，插入慢)
5.java底层是怎样对文件操作的
6.研究了哪些框架的源码
7.并发问题，锁，怎么处理死锁，脏数据处理
8.性能问题
9.equals和hashcode这些方法怎么使用的
10.java的NIO
```
http://lvwenwen.iteye.com/blog/1706221


```
1.先从项目模块入手，详细问项目模块是怎么实现的,遇到的问题怎么解决(一定要说自己做过的,真实的情况)
2.sql语句优化怎么做的,建索引的时候要考虑什么
3.spring ioc你的理解,ioc容器启动的过程是什么样的,什么是ioc,aop 你个人的理解是什么
4.jms 你个人的理解，就是消息接收完怎么处理，介质处理(为什么重启mq就能恢复)
解答：http://setting.iteye.com/blog/1097767
5.sychronized 机制 加了static 方法的同步异同,A 调用 B,A执行完了,B没执行完，怎么解决这个同步问题
6.servlet 默认是线程安全的吗，为什么不是线程安全的
解答：不是 ：url:http://westlifesz.iteye.com/blog/49511
http://jsjxqjy.iteye.com/blog/1563249
http://developer.51cto.com/art/200907/133827.htm
7.spring里面的action 默认是单列的,怎么配置成多列?
socpe =propty ?
8.socket 是用的什么协议,tcp协议连接(握手)的过程是什么样的,socket使用要注意哪些问题
解答：tcp协议,
9.数据库连接池设置几个连接,是怎么处理的，说说你的理解
10.自定义异常要怎么考虑呢，checked的异常跟 unchecked 的异常的区别
11.线程池是怎么配置的，怎么用的，要注意哪些，说下个人的理解
12.tomact 里session共享是怎么做到的，
解答：http://zhli986-yahoo-cn.iteye.com/blog/1344694
13.服务器集群有搭建过吗
解答：http://www.iteye.com/topic/1119823
阿里B2B北京专场java开发面试题(2011.10.29)
http://yueyemaitian.iteye.com/blog/1387901
3、画出最熟悉的三个设计模式的类图
4、写代码分别使得JVM的堆、栈和持久代发生内存溢出(栈溢出)


2、有个每秒钟5k个请求，查询手机号所属地的笔试题(记得不完整，没列出)，如何设计算法?请求再多，比如5w，如何设计整个系统?
3、比较熟悉什么技术?我说jvm和oracle，就让我画jvm的体系结构，画了之后说各个部分的职责，并扯到运行期优化。

2、熟悉各种技术框架么?源码读过么?
3、数据库了解什么?mysql了解么
4、前台技术，看我用的ExtJS，就问是否了解JQuery
5、进现在的公司，觉得对技术是否有提升?


1、jvm性能调优都做了什么
2、高并发情况下，我们系统是如何支撑大量的请求的
3、集群如何同步会话状态
4、负载均衡的原理
5、数据库事务属性
6、二叉树的遍历算法
7、hashtable和hashmap的区别
8、并发、同步的接口或方法
9、string、stringbuilder、stringbuffer区别
10、https处理的一个过程，对称加密和非对称加密
11、线程的几种状态
12、了解手机开发么
13、个人优势
14、与同事沟通的时候，如果遇到冲突了如何解决
15、工作中觉得哪方面欠缺?
16、有问题要问么?
17、期望薪水
18、为什么要离开现在的公司


struts1.2和webwork的区别
hibernate和ibatis的区别
spring工作机制，IOC容器
servlet的一些相关问题
webservice相关
java基础：jvm，HashSet等等


```

http://yueyemaitian.iteye.com/blog/1387906

```
　　第一面
　　1、说说项目
　　由于我几年一直做一个产品，从后台做到前台，从业务开发做到技术平台，所以就画了整个产品部署架构图，b/s & c/s的，然后一层层的讲解。
　　B/S现有Web框架改造、浏览器缓存、c/s补丁下载各种方式、cdn、c/s通信协议、rpc集群、http集群、负载均衡、集群前置机调度、后端服务器主从实例、后端服务器各种优化(异步、性能隔离)、数据库服务器各种优化(索引、物化视图、读写分离、帐套结转、数据库横向切分、纵向切分)、层间调用性能监控的实现，对照产品架构图各个部分一路讲下来。
　　2、http集群方案，我们的是反向代理服务器，自己有写代理服务器，也可以用主流的web服务器，然后面试官就问ngnix、lighttpd、apache三大主流web服务器的区别...囧了。。。
　　3、如果有机会重新设计你们的产品，你会怎么做?
　　这个当时回答的不好，主要从通信协议和数据存储两块来说了，这样说有些片面。因为我们产品本身又很多问题，只通过部署架构图是反映不出来的，如二次开发问题、补丁下载问题、不同模块java包相互依赖问题、技术框架比较封闭、构建系统方案落后、文档缺失等，我们内部经历过很多的痛苦的，但是当时思维局限在了部署架构，所以没有说出这些问题。
　　第二面
　　4、网站性能优化如何优化的?
　　自己一点网站性能优化经历，结合《构建高性能Web站点》，扯了一通，跟一面有点类似。
　　5、本来要花产品架构图，我翻过简历，后边有一面时候画的，就没要画了。然后就要我在黑板(暂且叫做黑板)上画jvm体系结构。
　　画了jvm体系结构，讲解了jvm各个组件和组件的交互、GC算法、各种垃圾收集器、运行期优化、产品中遇到的与jvm相关的问题如oom、ClassLoader问题等，并针对HotSpot VM的实现讲解了堆、非堆内存划分
　　第三面(HR面)
　　6、看我面过b2b和支付宝，问了下情况
　　b2b面完了，但是没过;支付宝过了2面
　　7、个人优缺点
　　8、是否愿意来杭州
　　第四面(视频电话面，杭州某大牛)
　　9、介绍项目。对于Web框架的改造，跟原有框架的异同
　　10、下班后的时间有学习技术么
　　11、是否参加过开源项目
　　本人工作时间不短了，4年半的小本。这次面，过了p6，淘宝商城的业务开发部门。

```